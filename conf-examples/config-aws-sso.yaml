# S3 Configuration
s3:
  # not mandatory, can use the endpoint and region from the aws profile
  endpoint:
  region: "eu-west-3"
  access_key: 
  api_key: 
  sso_aws_profile: my-profile
  bucket: my-bucket
  # set the prefix if you want to restrict the access to a specific folder
  prefix: my-folder
  # Number of days that objects will be restored from Glacier (default: 2 if not specified)
  restore_days: 7
  # Whether to enable the Glacier restore button (default: false if not specified)
  # If set to false, the restore button will not be shown for archived objects
  enable_glacier_restore: true
  # Skip bucket validation (HeadBucket operation)
  # Set to true if your IAM user doesn't have s3:HeadBucket permission
  # Note: validation is automatically skipped when a single bucket is configured
  skip_bucket_validation: false
  # Whether to enable file upload functionality (default: false if not specified)
  enable_upload: false
  # Whether to enable file deletion functionality (default: false if not specified)
  enable_delete: false

# Database Configuration
database:
  url: "postgres://postgres:postgres@localhost:5432/s3xplorer?sslmode=disable"
  # Connection pool settings (optional, defaults shown below)
  # max_open_conns: 25          # Maximum concurrent database connections
  # max_idle_conns: 5           # Idle connections to keep alive
  # conn_max_lifetime: "5m"     # Maximum connection lifetime
  # conn_max_idle_time: "1m"    # Maximum idle time before closing

# Background Scanning Configuration
scan:
  enable_background_scan: true
  # Cron schedule for scanning (default: "0 2 * * *" - daily at 2 AM)
  # Format: second minute hour day month weekday
  # Examples:
  # "0 2 * * *"     - daily at 2 AM
  # "0 */6 * * *"   - every 6 hours
  # "0 0 * * 0"     - weekly on Sunday at midnight
  cron_schedule: "0 2 * * *"
  # Enable initial scan on startup
  enable_initial_scan: true
  # Deletion sync configuration
  enable_deletion_sync: true

# Bucket Sync Configuration
# When enabled, validates bucket accessibility and removes inaccessible buckets
bucket_sync:
  enable: true
  # Time threshold for marking buckets as inaccessible (default: 24h)
  sync_threshold: "24h"
  # Time threshold for deleting buckets that have been inaccessible (default: 168h = 7 days)
  delete_threshold: "168h"  
  # Maximum retries for bucket accessibility checks (default: 3)
  max_retries: 3

# Logging
# log_level: debug | info | warn | error
log_level: info